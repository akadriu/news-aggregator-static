{"version":3,"file":"static/js/968.9a5876bb.chunk.js","mappings":"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","sources":["components/ClusterPage.js","utils/timeUtils.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { timeDifference } from '../utils/timeUtils';\n\nconst ClusterPage = () => {\n    const { category, clusterId } = useParams();\n    const navigate = useNavigate();\n    const [clusterData, setClusterData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        setLoading(true);\n        setError(null);\n        \n        axios.get(`${process.env.REACT_APP_API_URL}/category/${category}/cluster/${clusterId}`)\n            .then(response => {\n                setClusterData(response.data);\n                setLoading(false);\n            })\n            .catch(error => {\n                console.error('Error fetching cluster data:', error);\n                setError(error);\n                setLoading(false);\n                \n                // If cluster not found, redirect to category page after 3 seconds\n                if (error.response && error.response.status === 404) {\n                    setTimeout(() => {\n                        navigate(`/category/${category}`);\n                    }, 3000);\n                }\n            });\n    }, [category, clusterId, navigate]);\n\n    // if (loading) return <div>Loading...</div>;\n    \n    if (error) {\n        return (\n            <div className=\"error-container\">\n                <h2> </h2>\n                <p> </p>\n                <p>\n                    <a href={`/category/${category}`} onClick={(e) => {\n                        e.preventDefault();\n                        navigate(`/category/${category}`);\n                    }}>\n                        \n                    </a>\n                </p>\n            </div>\n        );\n    }\n\n    if (!clusterData || !clusterData.articles || clusterData.articles.length === 0) {\n        return (\n            <div className=\"error-container\">\n                <h2> </h2>\n                <p> </p>\n                <a href={`/category/${category}`} onClick={(e) => {\n                    e.preventDefault();\n                    navigate(`/category/${category}`);\n                }}>\n                    {/* Back to  {category} */}\n                </a>\n            </div>\n        );\n    }\n\n    const firstArticleTitle = clusterData.articles[0].title;\n\n    return (\n        <div className=\"cluster-page-container\">\n            <h1>{firstArticleTitle} in {category}</h1>\n            <ul className=\"article-list\">\n                {clusterData.articles.map((article) => (\n                    <li key={article.link} className=\"article-item\">\n                        <div className=\"cluster-header\">\n                            {article.image_url && (\n                                <img src={article.image_url} referrerPolicy=\"no-referrer\" alt=\"\" className=\"article-image\" onError={(e) => { e.target.src = \"/fallback.jpg\"; }} />\n                            )}\n                            <div className=\"article-details\">\n                                <a href={article.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <h3 className=\"article-title\">{article.title}</h3>\n                                </a>\n                                <p className=\"time-portal\">{`Para ${timeDifference(article.fetch_date)} - ${article.portal}`}</p>\n                                <p>{article.summary.split(' ').slice(0, 60).join(' ') + '...'}</p>\n                            </div>\n                        </div>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default ClusterPage;","export const timeDifference = (fetchDate) => {\n    const now = new Date();\n    \n    // Handle the UTC timestamp properly\n    // Your Python now sends: \"2025-09-27T18:53:49Z\"\n    const fetchTime = new Date(fetchDate);\n    \n    const diffInMinutes = Math.floor((now - fetchTime) / (1000 * 60));\n\n    if (diffInMinutes < 0) {\n        return \"tani\";\n    } else if (diffInMinutes < 60) {\n        return `${diffInMinutes} minutash`;\n    } else if (diffInMinutes < 24 * 60) {\n        const diffInHours = Math.floor(diffInMinutes / 60);\n        return `${diffInHours} ore`;\n    } else {\n        const diffInDays = Math.floor(diffInMinutes / (24 * 60));\n        return `${diffInDays} dite`;\n    }\n};"],"names":["ClusterPage","category","clusterId","useParams","navigate","useNavigate","clusterData","setClusterData","useState","loading","setLoading","error","setError","useEffect","axios","get","concat","process","then","response","data","catch","console","status","setTimeout","_jsxs","className","children","_jsx","href","onClick","e","preventDefault","articles","length","firstArticleTitle","title","map","article","image_url","src","referrerPolicy","alt","onError","target","link","rel","timeDifference","fetch_date","portal","summary","split","slice","join","fetchDate","now","Date","fetchTime","diffInMinutes","Math","floor","diffInHours","diffInDays"],"sourceRoot":""}