"use strict";(self.webpackChunknews_aggregator=self.webpackChunknews_aggregator||[]).push([[334],{334:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var n=s(43),r=s(213),a=(s(127),s(579));const o=e=>{let{persons:t,onPersonSelect:s,selectedPerson:n}=e;const r=Object.entries(t).sort(((e,t)=>{let[,s]=e,[,n]=t;return n.count-s.count})),o=(e,t,s,r)=>({fontSize:"".concat(12+(t-r)/(s-r)*16,"px"),fontWeight:t>.7*s?"bold":t>.4*s?"600":"normal",color:"hsl(0, 0%, ".concat(10+60*(1-t/s),"%)"),margin:"4px 8px",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",display:"inline-block",transition:"all 0.2s ease",border:n===e?"2px solid #9ba0a7ff":"1px solid transparent",backgroundColor:n===e?"rgba(0, 123, 255, 0.1)":"rgba(0, 0, 0, 0.05)"});if(0===r.length)return null;const l=r.map((e=>{let[t,s]=e;return s.count})),c=Math.max(...l),i=Math.min(...l);return(0,a.jsx)("div",{className:"word-cloud-container",children:r.map((e=>{let[t,n]=e;return(0,a.jsx)("span",{className:"word-cloud-item",style:o(t,n.count,c,i),onClick:()=>s(t,n),title:"".concat(n.count," articles").concat(n.total_count>n.count?" (".concat(n.total_count," total)"):""),children:t},t)}))})},l=e=>{let{category:t,onPersonSelect:s,selectedPerson:l,selectedPersonData:c,onPersonClose:i}=e;const[d,h]=(0,n.useState)({}),[u,p]=(0,n.useState)(!1),[x,m]=(0,n.useState)(null);(0,n.useEffect)((()=>{t&&g(t)}),[t]);const g=async e=>{p(!0),m(null);try{const t=await r.A.get("".concat("http://localhost:8000","/persons/category/").concat(e));h(t.data)}catch(x){console.error("Error fetching persons:",x),m("Failed to load persons"),h({})}finally{p(!1)}},j=Object.entries(d).sort(((e,t)=>{let[,s]=e,[,n]=t;return n.count-s.count}));return(0,a.jsxs)("div",{className:"sidebar-left-content person-sidebar",children:[(0,a.jsx)("div",{className:"sidebar-header",children:l?(0,a.jsxs)("div",{className:"selected-person-header",children:[(0,a.jsx)("h3",{children:l}),(0,a.jsx)("button",{className:"close-button",onClick:i,title:"Close",children:"\xd7"})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("h3",{children:["Persona dhe entitete n\xeb ",t]})})}),l?(0,a.jsx)("div",{className:"articles-list",children:c.articles.map(((e,t)=>(0,a.jsxs)("div",{className:"article-item",children:[(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.title}),(0,a.jsxs)("div",{className:"article-meta",children:[(0,a.jsx)("span",{children:new URL(e.link).hostname.replace("www.","")}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:new Date(e.published_date).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]},t)))}):u?(0,a.jsx)("div",{className:"loading",children:"Loading persons..."}):x?(0,a.jsx)("div",{className:"error",children:x}):0===j.length?(0,a.jsx)("div",{className:"no-persons",children:"Nuk ka persona"}):(0,a.jsx)(o,{persons:d,onPersonSelect:s,selectedPerson:l})]})}},127:()=>{}}]);
//# sourceMappingURL=334.48d20bc0.chunk.js.map