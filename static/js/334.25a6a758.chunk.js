"use strict";(self.webpackChunknews_aggregator=self.webpackChunknews_aggregator||[]).push([[334],{334:(e,n,s)=>{s.r(n),s.d(n,{default:()=>c});var t=s(43),r=s(213),a=(s(127),s(579));const o=e=>{let{persons:n,onPersonSelect:s,selectedPerson:t}=e;const r=Object.entries(n).sort(((e,n)=>{let[,s]=e,[,t]=n;return t.count-s.count})),o=(e,n,s,r)=>({fontSize:"".concat(12+(n-r)/(s-r)*16,"px"),fontWeight:n>.7*s?"bold":n>.4*s?"600":"normal",color:"hsl(0, 0%, ".concat(10+60*(1-n/s),"%)"),margin:"4px 8px",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",display:"inline-block",transition:"all 0.2s ease",border:t===e?"2px solid #9ba0a7ff":"1px solid transparent",backgroundColor:t===e?"rgba(0, 123, 255, 0.1)":"rgba(0, 0, 0, 0.05)"});if(0===r.length)return null;const c=r.map((e=>{let[n,s]=e;return s.count})),l=Math.max(...c),i=Math.min(...c);return(0,a.jsx)("div",{className:"word-cloud-container",children:r.map((e=>{let[n,t]=e;return(0,a.jsx)("span",{className:"word-cloud-item",style:o(n,t.count,l,i),onClick:()=>s(n,t),title:"".concat(t.count," articles").concat(t.total_count>t.count?" (".concat(t.total_count," total)"):""),children:n},n)}))})},c=e=>{let{category:n,onPersonSelect:s,selectedPerson:c,selectedPersonData:l,onPersonClose:i}=e;const[d,u]=(0,t.useState)({}),[h,p]=(0,t.useState)(!1),[x,g]=(0,t.useState)(null);(0,t.useEffect)((()=>{n&&m(n)}),[n]);const m=async e=>{p(!0),g(null);try{const n=await r.A.get("".concat("https://news-aggregator-backend-4zpx.onrender.com","/persons/category/").concat(e));u(n.data)}catch(x){console.error("Error fetching persons:",x),g("Failed to load persons"),u({})}finally{p(!1)}},j=Object.entries(d).sort(((e,n)=>{let[,s]=e,[,t]=n;return t.count-s.count}));return(0,a.jsxs)("div",{className:"sidebar-left-content person-sidebar",children:[(0,a.jsx)("div",{className:"sidebar-header",children:c?(0,a.jsxs)("div",{className:"selected-person-header",children:[(0,a.jsx)("h3",{children:c}),(0,a.jsx)("button",{className:"close-button",onClick:i,title:"Close",children:"\xd7"})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("h3",{children:["Persona dhe entitete n\xeb ",n]})})}),c?(0,a.jsx)("div",{className:"articles-list",children:l.articles.map(((e,n)=>(0,a.jsxs)("div",{className:"article-item",children:[(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.title}),(0,a.jsxs)("div",{className:"article-meta",children:[(0,a.jsx)("span",{children:new URL(e.link).hostname.replace("www.","")}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:new Date(e.published_date).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]},n)))}):h?(0,a.jsx)("div",{className:"loading",children:"Loading persons..."}):x?(0,a.jsx)("div",{className:"error",children:x}):0===j.length?(0,a.jsx)("div",{className:"no-persons",children:"Nuk ka persona"}):(0,a.jsx)(o,{persons:d,onPersonSelect:s,selectedPerson:c})]})}},127:()=>{}}]);
//# sourceMappingURL=334.25a6a758.chunk.js.map