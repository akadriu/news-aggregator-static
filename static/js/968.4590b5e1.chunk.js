"use strict";(self.webpackChunknews_aggregator=self.webpackChunknews_aggregator||[]).push([[968],{968:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var a=t(43),c=t(213),s=t(216),n=t(688),l=t(579);const i=()=>{const{category:e,clusterId:r}=(0,s.g)(),t=(0,s.Zp)(),[i,o]=(0,a.useState)(null),[h,d]=(0,a.useState)(!0),[u,g]=(0,a.useState)(null);if((0,a.useEffect)((()=>{d(!0),g(null),c.A.get("".concat("https://news-aggregator-backend-4zpx.onrender.com","/category/").concat(e,"/cluster/").concat(r)).then((e=>{o(e.data),d(!1)})).catch((r=>{console.error("Error fetching cluster data:",r),g(r),d(!1),r.response&&404===r.response.status&&setTimeout((()=>{t("/category/".concat(e))}),3e3)}))}),[e,r,t]),u)return(0,l.jsxs)("div",{className:"error-container",children:[(0,l.jsx)("h2",{children:" "}),(0,l.jsx)("p",{children:" "}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"/category/".concat(e),onClick:r=>{r.preventDefault(),t("/category/".concat(e))}})})]});if(!i||!i.articles||0===i.articles.length)return(0,l.jsxs)("div",{className:"error-container",children:[(0,l.jsx)("h2",{children:" "}),(0,l.jsx)("p",{children:" "}),(0,l.jsx)("a",{href:"/category/".concat(e),onClick:r=>{r.preventDefault(),t("/category/".concat(e))}})]});const f=i.articles[0].title;return(0,l.jsxs)("div",{className:"cluster-page-container",children:[(0,l.jsxs)("h1",{children:[f," in ",e]}),(0,l.jsx)("ul",{className:"article-list",children:i.articles.map((e=>(0,l.jsx)("li",{className:"article-item",children:(0,l.jsxs)("div",{className:"cluster-header",children:[e.image_url&&(0,l.jsx)("img",{src:e.image_url,referrerPolicy:"no-referrer",alt:"",className:"article-image",onError:e=>{e.target.src="/fallback.jpg"}}),(0,l.jsxs)("div",{className:"article-details",children:[(0,l.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:(0,l.jsx)("h3",{className:"article-title",children:e.title})}),(0,l.jsx)("p",{className:"time-portal",children:"Para ".concat((0,n.L)(e.fetch_date)," - ").concat(e.portal)}),(0,l.jsx)("p",{children:e.summary.split(" ").slice(0,60).join(" ")+"..."})]})]})},e.link)))})]})}},688:(e,r,t)=>{t.d(r,{L:()=>a});const a=e=>{const r=new Date,t=new Date(e),a=Math.floor((r-t)/6e4);if(a<60)return"".concat(a," minutash");if(a<1440){const e=Math.floor(a/60);return"".concat(e," ore")}{const e=Math.floor(a/1440);return"".concat(e," dite")}}}}]);
//# sourceMappingURL=968.4590b5e1.chunk.js.map