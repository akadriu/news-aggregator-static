"use strict";(self.webpackChunknews_aggregator=self.webpackChunknews_aggregator||[]).push([[968],{968:(e,r,t)=>{t.r(r),t.d(r,{default:()=>o});var c=t(43),a=t(213),s=t(216),n=t(688),l=t(579);const o=()=>{const{category:e,clusterId:r}=(0,s.g)(),t=(0,s.Zp)(),[o,i]=(0,c.useState)(null),[h,d]=(0,c.useState)(!0),[u,g]=(0,c.useState)(null);if((0,c.useEffect)((()=>{d(!0),g(null),a.A.get("".concat("https://news-aggregator-backend-4zpx.onrender.com","/category/").concat(e,"/cluster/").concat(r)).then((e=>{i(e.data),d(!1)})).catch((r=>{console.error("Error fetching cluster data:",r),g(r),d(!1),r.response&&404===r.response.status&&setTimeout((()=>{t("/category/".concat(e))}),3e3)}))}),[e,r,t]),u)return(0,l.jsxs)("div",{className:"error-container",children:[(0,l.jsx)("h2",{children:" "}),(0,l.jsx)("p",{children:" "}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"/category/".concat(e),onClick:r=>{r.preventDefault(),t("/category/".concat(e))}})})]});if(!o||!o.articles||0===o.articles.length)return(0,l.jsxs)("div",{className:"error-container",children:[(0,l.jsx)("h2",{children:" "}),(0,l.jsx)("p",{children:" "}),(0,l.jsx)("a",{href:"/category/".concat(e),onClick:r=>{r.preventDefault(),t("/category/".concat(e))}})]});const f=o.articles[0].title;return(0,l.jsxs)("div",{className:"cluster-page-container",children:[(0,l.jsxs)("h1",{children:[f," in ",e]}),(0,l.jsx)("ul",{className:"article-list",children:o.articles.map((e=>(0,l.jsx)("li",{className:"article-item",children:(0,l.jsxs)("div",{className:"cluster-header",children:[e.image_url&&(0,l.jsx)("img",{src:e.image_url,referrerPolicy:"no-referrer",alt:"",className:"article-image",onError:e=>{e.target.src="/fallback.jpg"}}),(0,l.jsxs)("div",{className:"article-details",children:[(0,l.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:(0,l.jsx)("h3",{className:"article-title",children:e.title})}),(0,l.jsx)("p",{className:"time-portal",children:"".concat((0,n.L)(e.fetch_date)," - ").concat(e.portal)}),(0,l.jsx)("p",{children:e.summary.split(" ").slice(0,60).join(" ")+"..."})]})]})},e.link)))})]})}},688:(e,r,t)=>{t.d(r,{L:()=>c});const c=e=>{const r=new Date,t=new Date(e.replace(" ","T")+(e.endsWith("Z")?"":"Z")),c=Math.floor((r-t)/6e4);if(console.log("Now: ".concat(r.toLocaleString())),console.log("Fetch: ".concat(t.toLocaleString())),console.log("Diff: ".concat(c," minutes")),c<11)return"Tani";if(c<60)return"Para ".concat(c," minutash");if(c<1440){const e=Math.floor(c/60);return"Para ".concat(e," ore")}{const e=Math.floor(c/1440);return"Para ".concat(e," dite")}}}}]);
//# sourceMappingURL=968.8d195c33.chunk.js.map