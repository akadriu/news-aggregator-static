"use strict";(self.webpackChunknews_aggregator=self.webpackChunknews_aggregator||[]).push([[821],{821:(e,r,a)=>{a.r(r),a.d(r,{default:()=>o});var t=a(43),c=a(213),s=a(475),l=a(688),n=a(579);const i=e=>{let{category:r,limitSummary:a}=e;const[i,o]=(0,t.useState)([]);return(0,t.useEffect)((()=>{c.A.get("".concat("https://news-aggregator-backend-4zpx.onrender.com","/category/").concat(r)).then((e=>{const r=Object.entries(e.data).slice(0,3);o(r)})).catch((e=>{console.error("Error fetching data for category ".concat(r,":"),e)}))}),[r]),(0,n.jsxs)("div",{className:"category-preview",children:[(0,n.jsx)("h2",{children:(0,n.jsx)(s.N_,{to:"/category/".concat(r),children:r})}),(0,n.jsx)("ul",{children:i.map((e=>{let[t,c]=e;return(0,n.jsxs)("li",{className:"news-cluster",children:[(0,n.jsxs)("div",{className:"cluster-header",children:[c.articles[0].image_url&&(0,n.jsx)("img",{src:c.articles[0].image_url,referrerPolicy:"no-referrer",alt:"",className:"article-image",onError:e=>{e.target.src="/fallback.jpg"}}),(0,n.jsxs)("div",{className:"article-details",children:[(0,n.jsx)("a",{href:c.articles[0].link,target:"_blank",rel:"noopener noreferrer",children:(0,n.jsxs)("h3",{className:"article-title",children:[c.articles[0].title," - ",c.articles[0].portal]})}),(0,n.jsx)("p",{className:"time-portal",children:"Para ".concat((0,l.L)(c.articles[0].fetch_date)," - ").concat(c.articles[0].portal)}),(0,n.jsx)("p",{children:a(c.articles[0].summary)})]})]}),(0,n.jsx)("div",{className:"links-column",children:c.articles.slice(1,3).map((e=>(0,n.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"portal-link separate-link",children:[e.title," - ",e.portal]},e.link)))}),(0,n.jsxs)("div",{className:"links-row",children:[c.articles.slice(6,10).map((e=>(0,n.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"portal-link",children:e.portal},e.link))),c.articles.length>10&&(0,n.jsx)("span",{children:"..."}),c.articles.length>=4&&(0,n.jsx)(s.N_,{to:"/category/".concat(r,"/cluster/").concat(t),className:"view-all-link",children:"Te gjitha lajmet"})]})]},t)}))})]})},o=()=>{const[e,r]=(0,t.useState)([]);(0,t.useEffect)((()=>{console.log("Fetching categories..."),c.A.get("".concat("https://news-aggregator-backend-4zpx.onrender.com","/categories")).then((e=>{console.log("Categories fetched:",e.data),r(e.data)})).catch((e=>{console.error("Error fetching categories:",e)}))}),[]);const a=e=>e.split(" ").slice(0,40).join(" ")+"...";return(0,n.jsx)("div",{className:"categories",children:0===e.length?(0,n.jsx)("p",{children:"No categories available"}):e.map((e=>(0,n.jsx)(i,{category:e,limitSummary:a},e)))})}},688:(e,r,a)=>{a.d(r,{L:()=>t});const t=e=>{const r=new Date,a=new Date(e),t=Math.floor((r-a)/6e4-120);if(t<60)return"".concat(t," minuta");if(t<1440){const e=Math.floor(t/60);return"".concat(e," ore")}{const e=Math.floor(t/1440);return"".concat(e," dite")}}}}]);
//# sourceMappingURL=821.22d2f3aa.chunk.js.map