{"version":3,"file":"static/js/968.3e4b557a.chunk.js","mappings":"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","sources":["components/ClusterPage.js","utils/timeUtils.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { timeDifference } from '../utils/timeUtils';\n\nconst ClusterPage = () => {\n    const { category, clusterId } = useParams();\n    const navigate = useNavigate();\n    const [clusterData, setClusterData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        setLoading(true);\n        setError(null);\n        \n        axios.get(`${process.env.REACT_APP_API_URL}/category/${category}/cluster/${clusterId}`)\n            .then(response => {\n                setClusterData(response.data);\n                setLoading(false);\n            })\n            .catch(error => {\n                console.error('Error fetching cluster data:', error);\n                setError(error);\n                setLoading(false);\n                \n                // If cluster not found, redirect to category page after 3 seconds\n                if (error.response && error.response.status === 404) {\n                    setTimeout(() => {\n                        navigate(`/category/${category}`);\n                    }, 3000);\n                }\n            });\n    }, [category, clusterId, navigate]);\n\n    if (loading) return <div>Loading...</div>;\n    \n    if (error) {\n        return (\n            <div className=\"error-container\">\n                <h2>Ky grup nuk u gjet</h2>\n                <p>Ky grup lajmesh nuk është më i disponueshëm. Do të ridrejtoheni në faqen e kategorisë {category} pas disa sekondash...</p>\n                <p>\n                    <a href={`/category/${category}`} onClick={(e) => {\n                        e.preventDefault();\n                        navigate(`/category/${category}`);\n                    }}>\n                        Klikoni këtu për t'u kthyer tani\n                    </a>\n                </p>\n            </div>\n        );\n    }\n\n    if (!clusterData || !clusterData.articles || clusterData.articles.length === 0) {\n        return (\n            <div className=\"error-container\">\n                <h2>Nuk u gjetën artikuj</h2>\n                <p>Ky klaster nuk përmban asnjë artikull</p>\n                <a href={`/category/${category}`} onClick={(e) => {\n                    e.preventDefault();\n                    navigate(`/category/${category}`);\n                }}>\n                    Back to {category}\n                </a>\n            </div>\n        );\n    }\n\n    const firstArticleTitle = clusterData.articles[0].title;\n\n    return (\n        <div className=\"cluster-page-container\">\n            <h1>{firstArticleTitle} in {category}</h1>\n            <ul className=\"article-list\">\n                {clusterData.articles.map((article) => (\n                    <li key={article.link} className=\"article-item\">\n                        <div className=\"cluster-header\">\n                            {article.image_url && (\n                                <img src={article.image_url} referrerPolicy=\"no-referrer\" alt=\"\" className=\"article-image\" onError={(e) => { e.target.src = \"/fallback.jpg\"; }} />\n                            )}\n                            <div className=\"article-details\">\n                                <a href={article.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <h3 className=\"article-title\">{article.title}</h3>\n                                </a>\n                                <p className=\"time-portal\">{`Para ${timeDifference(article.fetch_date)} - ${article.portal}`}</p>\n                                <p>{article.summary.split(' ').slice(0, 60).join(' ') + '...'}</p>\n                            </div>\n                        </div>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default ClusterPage;","export const timeDifference = (fetchDate) => {\n    const now = new Date();\n    const fetchTime = new Date(fetchDate);\n    const diffInMinutes = Math.floor((now - fetchTime) / (1000 * 60) - 120);\n\n    if (diffInMinutes < 60) {\n        return `${diffInMinutes} minuta`;\n    } else if (diffInMinutes < 24 * 60) {\n        const diffInHours = Math.floor(diffInMinutes / 60);\n        return `${diffInHours} ore`;\n    } else {\n        const diffInDays = Math.floor(diffInMinutes / (24 * 60));\n        return `${diffInDays} dite`;\n    }\n};\n"],"names":["ClusterPage","category","clusterId","useParams","navigate","useNavigate","clusterData","setClusterData","useState","loading","setLoading","error","setError","useEffect","axios","get","concat","process","then","response","data","catch","console","status","setTimeout","_jsx","children","_jsxs","className","href","onClick","e","preventDefault","articles","length","firstArticleTitle","title","map","article","image_url","src","referrerPolicy","alt","onError","target","link","rel","timeDifference","fetch_date","portal","summary","split","slice","join","fetchDate","now","Date","fetchTime","diffInMinutes","Math","floor","diffInHours","diffInDays"],"sourceRoot":""}