{"version":3,"file":"static/js/196.8888acd6.chunk.js","mappings":"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","sources":["components/TopPersonsSidebar.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './PersonSidebar.css'; // reuse same styles\n\nconst WordCloud = ({ persons, onPersonSelect, selectedPerson }) => {\n  const personsList = Object.entries(persons);\n  \n  // Calculate font sizes based on article counts\n  const getPersonStyle = (personName, count, maxCount, minCount) => {\n    const minSize = 12;\n    const maxSize = 28;\n    const normalizedSize = minSize + ((count - minCount) / (maxCount - minCount)) * (maxSize - minSize);\n    \n    return {\n      fontSize: `${normalizedSize}px`,\n      fontWeight: count > (maxCount * 0.7) ? 'bold' : count > (maxCount * 0.4) ? '600' : 'normal',\n      color: `hsl(0, 0%, ${10 + (1 - (count / maxCount)) * 60}%)`,\n      margin: '4px 8px',\n      padding: '4px 8px',\n      borderRadius: '4px',\n      cursor: 'pointer',\n      display: 'inline-block',\n      transition: 'all 0.2s ease',\n      border: selectedPerson === personName ? '2px solid #007bff' : '1px solid transparent',\n      backgroundColor: selectedPerson === personName ? 'rgba(0, 123, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)'\n    };\n  };\n\n  if (personsList.length === 0) return null;\n\n  const counts = personsList.map(([_, data]) => data.count);\n  const maxCount = Math.max(...counts);\n  const minCount = Math.min(...counts);\n\n  return (\n    <div className=\"word-cloud-container\">\n      {personsList.map(([personName, personData]) => (\n        <span\n          key={personName}\n          className=\"word-cloud-item\"\n          style={getPersonStyle(personName, personData.count, maxCount, minCount)}\n          onClick={() => onPersonSelect(personName, personData)}\n          title={`${personData.count} articles`}\n        >\n          {personName}\n        </span>\n      ))}\n    </div>\n  );\n};\n\nconst TopPersonsSidebar = ({ onPersonSelect, selectedPerson, selectedPersonData, onPersonClose }) => {\n  const [topPersons, setTopPersons] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/persons/top/10`)\n      .then((response) => setTopPersons(response.data))\n      .catch((error) => console.error('Failed to load top persons:', error))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const personList = Object.entries(topPersons);\n\n  return (\n    <div className=\"sidebar-left-content person-sidebar\">\n      <div className=\"sidebar-header\">\n        {!selectedPerson ? (\n          <>\n            <h3>Top Personat dhe ngjarjet</h3>\n          </>\n        ) : (\n          <div className=\"selected-person-header\">\n            <h3>{selectedPerson}</h3>\n            <button className=\"close-button\" onClick={onPersonClose} title=\"Close\">×</button>\n          </div>\n        )}\n      </div>\n\n      {!selectedPerson ? (\n        loading ? (\n          <div className=\"loading\">Loading top persons...</div>\n        ) : (\n          <WordCloud \n            persons={topPersons} \n            onPersonSelect={onPersonSelect}\n            selectedPerson={selectedPerson}\n          />\n        )\n      ) : (\n        <div className=\"articles-list\">\n          {selectedPersonData.articles.map((article, index) => (\n            <div key={index} className=\"article-item\">\n              <a href={article.link} target=\"_blank\" rel=\"noopener noreferrer\">{article.title}</a>\n              <div className=\"article-meta\">\n                <span>{new URL(article.link).hostname.replace('www.', '')}</span> •\n                <span>{new Date(article.published_date).toLocaleString()}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TopPersonsSidebar;"],"names":["WordCloud","_ref","persons","onPersonSelect","selectedPerson","personsList","Object","entries","getPersonStyle","personName","count","maxCount","minCount","fontSize","concat","fontWeight","color","margin","padding","borderRadius","cursor","display","transition","border","backgroundColor","length","counts","map","_ref2","_","data","Math","max","min","_jsx","className","children","_ref3","personData","style","onClick","title","_ref4","selectedPersonData","onPersonClose","topPersons","setTopPersons","useState","loading","setLoading","useEffect","axios","get","process","then","response","catch","error","console","finally","_jsxs","_Fragment","articles","article","index","href","link","target","rel","URL","hostname","replace","Date","published_date","toLocaleString"],"sourceRoot":""}